<!DOCTYPE html>
<html>
<head><title>Test MIDI MPK</title></head>
<body>
<h1>Test MIDI MPK Mini</h1>
<div id="log"></div>
<script>
const log = document.getElementById('log');
function addLog(msg) {
  log.innerHTML += msg + '<br>';
  console.log(msg);
}

addLog('üéπ Test MIDI MPK Mini...');
addLog('Navigateur: ' + navigator.userAgent);

if (navigator.requestMIDIAccess) {
  addLog('‚úÖ Web MIDI API support√©e');
  navigator.requestMIDIAccess()
    .then(midiAccess => {
      addLog('‚úÖ MIDI Access OK');
      addLog('Inputs: ' + midiAccess.inputs.size);
      
      midiAccess.inputs.forEach((input, id) => {
        addLog('üéπ ' + input.name + ' (ID: ' + id + ')');
        input.onmidimessage = (event) => {
          addLog('üéµ MIDI: ' + Array.from(event.data).join(','));
        };
      });
      
      if (midiAccess.inputs.size === 0) {
        addLog('‚ùå Aucun p√©riph√©rique MIDI d√©tect√©');
      }
    })
    .catch(err => {
      addLog('‚ùå MIDI Error: ' + err.message);
    });
} else {
  addLog('‚ùå Web MIDI API non support√©e');
}
</script>
</body>
</html>
